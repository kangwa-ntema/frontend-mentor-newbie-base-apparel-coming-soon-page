<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- displays site properly based on user's device -->

    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />

    

    <title>Frontend Mentor | Base Apparel coming soon page</title>

    <!-- Feel free to remove these styles or customise in your own stylesheet ðŸ‘ -->

    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="heading">
      <div class="logo"></div>
    </div>

    <div class="announcement_container">
      <div class="poster">
        <div class="hero">
          <img class="hero_mobile" src="images/hero-mobile.jpg" alt="" />
          <img class="hero_desktop" src="images/hero-desktop.jpg" alt="" />
        </div>
      </div>

      <div class="announcement">
        <div class="announcement_title">
          <p>WE'RE</p>
          <div>COMING</div>
          <div>SOON</div>
        </div>

        <p class="announcement_paragraph">
          Hello fellow shoppers! We're currently building our new fashion store.
          Add your email below to stay up-to-date with announcements and our
          launch deals.
        </p>

        <div class="subscribe">
          <input
            id="email-input"
            class="subscribe_email"
            type="email"
            placeholder="Email Address"
            onkeyup="validateEmail()"
          />
          <img
            class="icon-error"
            id="icon-error"
            src="./images/icon-error.svg"
            alt=""
          />
          <button id="submit-btn" class="subscribe_button">
            <img src="./images/icon-arrow.svg" alt="" />
          </button>
          <div id="error-msg"></div>
        </div>
      </div>
    </div>

    <footer>
      <p class="attribution">
        Challenge by
        <a href="https://www.frontendmentor.io?ref=challenge" target="_blank"
          >Frontend Mentor</a
        >. Coded by <a href="https://github.com/kangwa-ntema">Kangwa Ntema</a>.
      </p>
    </footer>

    <script>
      const emailInput = document.getElementById("email-input");
      const errMsg = document.getElementById("error-msg");
      const errIcon = document.getElementById("icon-error");
      const form = document.getElementById("form");
      const submitBtn = document.getElementById("submit-btn");
      const emailInputVal = emailInput.value;
      //const emailRegex = /^[A-Za-z\._\-0-9]*[@][A-Za-z]*[\.][a-z]{2,4}$/;

      /* 
      */
      const emailRegex =
        /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
      function validateEmail(){
        if(emailInput.value === ""){
          errMsg.innerHTML = "";
        errIcon.style.display = "none";
        }
        if (!emailInput.value.match(emailRegex)) {
          errMsg.innerHTML = "Please provide a valid Email";
          errIcon.style.display = "block";
          return false;
        }
        errMsg.innerHTML = "";
        errIcon.style.display = "none";

        return true;
      };
    </script>
  </body>
</html>
